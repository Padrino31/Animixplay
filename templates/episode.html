<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="icon" type="image/x-icon"
        href="https://animixplay.to/icon.png">
    <title>Watch Episode {{ title }} - {{ heading }} - Animixplay</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="title" content="Watch Episode {{ title }} - {{ heading }} - Animixplay">
    <meta name="description"
        content="Watch Episode {{ title }} - {{ heading }} - Animixplay free anime online and it's latest episodes on AnimeDex. We provide free anime online experience without ads, signing up or downloading.">
    <meta name="keywords"
        content="{{ title }}, Animixplay, hindi dub, hindi sub, english dub, watch anime online, free anime, anime stream, anime hd, english sub, kissanime, gogoanime, animeultima, 9anime, 123animes, animefreak, vidstreaming, gogo-stream, animekisa, zoro.to, gogoanime.run, animefrenzy, animekisa">
    <meta name="charset" content="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    <meta name="revisit-after" content="1 days">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Language" content="en">
    <meta property="og:title" content="Watch Episode {{ title }} - {{ heading }} - Animixplay">
    <meta property="og:description"
        content="Watch Episode {{ title }} - {{ heading }} - Animixplay free anime online and it's latest episodes on AnimeDex. We provide free anime online experience without ads, signing up or downloading.">
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Animixplay">
    <meta property="og:url" content="https://animedex.live/">
    <meta itemprop="image" content="https://cdn.jsdelivr.net/gh/TechShreyash/AnimeDex@main/screenshots/home.jpeg">
    <meta property="og:image" content="https://cdn.jsdelivr.net/gh/TechShreyash/AnimeDex@main/screenshots/home.jpeg">
    <meta property="og:image:secure_url"
        content="https://cdn.jsdelivr.net/gh/TechShreyash/AnimeDex@main/screenshots/home.jpeg">
    <meta property="og:image:width" content="650">
    <meta property="og:image:height" content="350">
    <meta property="twitter:title" content="Watch Episode {{ title }} - {{ heading }} - Animixplay">
    <meta property="twitter:description"
        content="Watch Episode {{ title }} - {{ heading }} - Animixplay free anime online and it's latest episodes on AnimeDex. We provide free anime online experience without ads, signing up or downloading.">
    <meta property="twitter:url" content="/anime/">
    <meta property="twitter:card" content="summary">
    <meta name="apple-mobile-web-app-status-bar" content="#202125">
    <meta name="theme-color" content="#202125">
    <link href="https://cdn.jsdelivr.net/gh/TechShreyash/AnimeDex@main/static/css/episode.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
</head>

<body>
<header class="header" style="box-sizing: border-box; margin: 0; padding: 0; background-color: rgba(255, 0, 0, 0); color: #fff; padding: 15px;">
  <div class="container" style="display: flex; align-items: center; justify-content: space-between;">
    <div class="logo" style="flex: 1;">
      <a href="/"> <img src="https://animixplay.b-cdn.net/wp-content/uploads/2022/10/cropped-animixplaylogo-1.png"></a>
    </div>
    </div>
  </div>
</header>
 <section id="vid-sec">
        <div id="vid-div">

            <div id="video">
                <iframe id="AnimeDexFrame" src="{{ iframe }}" style="border:0px #ffffff none;" scrolling="no"
                    frameborder="0" marginheight="0px" marginwidth="0px" allowfullscreen></iframe>
            </div>
        </div>
<section id="watch">
    <div class="scontent">
        You are watching <b>Episode {{ title }}.</b> If the current server doesn't work, please try other servers.
    </div>
    <div class="selector link-data">
        PROSLO
       <button onclick="saveBookmark()" style="color: black;">Bookmark</button>
        <a href="./episode.html" target="_blank">Full Web Interface</a>


    </div>
    <div id="server_main">
        <div class="status">
        </div>
        SERVER
    </div>
    <div class="divo">
        <h2>List Of Episodes:</h2>
        <div class="divo2">
            EPISOS
        </div>
    </div>
</section>

    <hr>
  <footer style="background-color:#2596be;">
    <div>
        <p style="color:white;">Animixplay All rights reserved Â© Animixplay</p>
    </div>
</footer>
<hr>
    <script>
function saveBookmark() {
  // get current time and date
  const now = new Date();
  const time = now.toLocaleTimeString();
  const date = now.toLocaleDateString();

  // get the video title, episode number and server URL
  const title = document.querySelector('#watch .scontent b').textContent;
  const episode = document.querySelector('.divo2 .sactive').textContent;
  const server = document.querySelector('#server_main .sactive').getAttribute('data-value');

  // create the bookmark object
  const bookmark = {
    title,
    episode,
    server,
    date,
    time
  };

  // check if the bookmark already exists
  const bookmarks = getBookmarks();
  const isDuplicate = bookmarks.some(b => b.title === bookmark.title && b.episode === bookmark.episode && b.server === bookmark.server);
  if (isDuplicate) {
    alert('This video is already bookmarked.');
    return;
  }

  // save the bookmark to the bookmarks array
  bookmarks.push(bookmark);

  // save the updated bookmarks array to local storage
  localStorage.setItem('bookmarks', JSON.stringify(bookmarks));

  alert('Bookmark saved!');
}

function getBookmarks() {
  // get existing bookmarks from local storage or create empty array
  let bookmarks = localStorage.getItem('bookmarks');
  if (!bookmarks) {
    bookmarks = [];
  } else {
    bookmarks = JSON.parse(bookmarks);
  }

  // check if saved link matches current episode
  const currentEpisode = document.querySelector('.divo2 .sactive').textContent;
  const currentServer = document.querySelector('#server_main .sactive').getAttribute('data-value');
  const savedBookmark = bookmarks.find(b => b.episode === currentEpisode && b.server === currentServer);
  if (savedBookmark) {
    // redirect user to saved episode on saved server
    window.location.href = "episode.html?episode=" + savedBookmark.episode + "&server=" + encodeURIComponent(savedBookmark.server);
  }

  return bookmarks;
}

       function selectServer(btn) {
            const buttons = document.getElementsByClassName('sobtn');
            const iframe = document.getElementById('AnimeDexFrame');
            iframe.src = btn.getAttribute('data-value');
            for (let i = 0; i < buttons.length; i++) {
                buttons[i].className = "sobtn";
            }
            btn.className = "sobtn sactive";
        };

        function showDownload() {
        document.getElementById('showdl').style.display = "none";
        document.getElementById('dldiv').classList.toggle('show');
    }
    </script>
</body>
</html>
