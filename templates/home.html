<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="icon" type="image/x-icon"
        href="https://d1nxzqpcg2bym0.cloudfront.net/google_play/com.anime.flv/ec0213b8-f1d8-11e7-8b0a-7d62278fee98/128x128">
    <title> animeflv - Watch High Quality Anime Online</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="title" content="animeflv - Watch High Quality Anime Online" />
    <meta name="description"
        content="animeflv - Watch High Quality Anime Online. You can watch anime online free in HD without Ads. Best place for free find and one-click anime." />
    <meta name="keywords"
        content="animeflv, watch anime online, free anime, anime stream, anime hd, english sub, kissanime, gogoanime, animeultima, 9anime, 123animes, animefreak, vidstreaming, gogo-stream, animekisa, zoro.to, gogoanime.run, animekisa" />
    <meta name="charset" content="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
    <meta name="robots" content="index, follow" />
    <meta name="googlebot" content="index, follow" />
    <meta name="revisit-after" content="1 days" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta http-equiv="Content-Language" content="en" />
    <meta property="og:title" content="animeflv - Watch High Quality Anime Online">
    <meta property="og:description"
        content="animeflv - Watch High Quality Anime Online. You can watch anime online free in HD without Ads. Best place for free find and one-click anime.">
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="animeflv">
	<meta property="og:url" content="https://animedex.live/">
    <meta itemprop="image" content="https://cdn.jsdelivr.net/gh/TechShreyash/AnimeDex@main/screenshots/home.jpeg">
    <meta property="og:image" content="https://cdn.jsdelivr.net/gh/TechShreyash/AnimeDex@main/screenshots/home.jpeg">
    <meta property="og:image:secure_url"
        content="https://cdn.jsdelivr.net/gh/TechShreyash/AnimeDex@main/screenshots/home.jpeg">
    <meta property="og:image:width" content="650">
    <meta property="og:image:height" content="350">
    <meta property="twitter:title" content="animeflv - Watch High Quality Anime Online">
    <meta property="twitter:description"
        content="Trending page for anime on animeflv. You can watch anime online free in HD without Sign up. Best place for free find and one-click anime.">
    <meta property="twitter:url" content="">
    <meta property="twitter:card" content="summary">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <meta name="apple-mobile-web-app-status-bar" content="#202125">

      <link href="../static/css/styles.css" rel="stylesheet">
    <link href="../static/css/home.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" rel="stylesheet">
	<link rel="manifest" href="../static/css/manifest.json">
	<script>
   if('serviceWorker' in navigator) {
      navigator.serviceWorker.register('../static/css/sw.js')
      .then(function() {
        console.log('Service Worker Registered');
      }).catch(function(err) {
        console.log(err);
      });
    }
</script>
      <style>
	      #continue-watching-container {
  margin-top: 50px;
  padding: 0 20px;
}

#continue-watching-container h2 {
  font-size: 28px;
  font-weight: bold;
  margin-bottom: 20px;
}

.continue-watching-episode {
  display: flex;
  align-items: center;
  margin-bottom: 20px;
}

.continue-watching-episode a {
  flex-grow: 1;
  font-size: 18px;
  font-weight: bold;
  color: #333;
  text-decoration: none;
  margin-right: 20px;
}

.continue-watching-episode img {
  width: 100px;
  height: 60px;
  object-fit: cover;
  margin-right: 20px;
}

.continue-watching-episode span {
  font-size: 16px;
  color: #777;
}

	</style>
</head>

<body>
<nav>
         <div class="menu-icon">
            <span class="fas fa-bars"></span>
         </div>
         <div class="logo">
            <a href="#"><img src="../static/img/animeflv.png"></a>
         </div>
         <div class="nav-items">
		  <li><a href="/">Home</a></li>
             <li><a href="../static/css/bookmark.html">Bookmark</a></li>
        <li><a href="../static/css/watchlist.html">Watchlist</a></li>
         </div>
         <div class="search-icon">
            <span class="fas fa-search"></span>
         </div>
         <div class="cancel-icon">
            <span class="fas fa-times"></span>
         </div>
                    <form action="/search" method='GET'>
                <input type="text" name="query" id="query" placeholder="Search Anime..." required>
                <button type="submit"><i class="fa fa-search"></i>
                </button>
            </form>
        </div>
      </nav>
      <section>
        <div class="slideshow-container">
            SLIDERS
            <!-- Next and previous buttons -->
            <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
            <a class="next" onclick="plusSlides(1)">&#10095;</a>
        </div>
    </section>
	
    <section>
        <div class="divox">
            <h2 id="latest">Most Popular</h2>
            <div id="latest2">
		        <a href="../static/css/Season3.html">
                        <div class="poster la-anime">
                            <div id="shadow1" class="shadow">
                                <div class="dubb">Action</div>
                                <div class="dubb dubb2">Ep 1</div>
                            </div>
                            <div id="shadow2" class="shadow">
                                <img class="lzy_img" src="https://cdn.dribbble.com/users/303363/screenshots/2505716/media/51a757785579b2042ede381d9dd1fd82.gif" data-src="https://s4.anilist.co/file/anilistcdn/media/anime/cover/large/bx145139-rRimpHGWLhym.png">
                            </div>
                            <div class="la-details">
                                <h3>Kimetsu no Yaiba: Katanakaji no Sato-hen</h3>
                                <div id="extra">
                                    <span>Spring 2023 Anime</span>
                                    <span class="dot"></span>
                                    <span>Ongoing</span>
                                </div>
                            </div>
                        </div>			
                    </a>
                MOST_POPULAR
            </div>
        </div>
	</section>
		<section>
  <div id="continue-watching-container">
   <h2 id="latest">Continue Watching</h2>
  <div id="continue-watching"></div>
</div>
</section>

	    
	    <section>
        <div class="divox">
            <h2 id="latest">Recent Release</h2>
            <div id="latest2" class="recento">
                RECENT_RELEASE
            </div>
        </div>
    </section>
    <div id="load"><img src="https://media.tenor.com/G7LfW0O5qb8AAAAi/loading-gif.gif"
            alt="Loading..."></div>
   	
<hr>
<footer style="background-color: #2596be;">
  <div>
    <p style="color: white;">All content Â© 2023 animeflv. All rights reserved.</p>
  </div>
</footer>
<hr>



    <script>
document.addEventListener("DOMContentLoaded", function () {
	storeEpisode();
  displayContinueWatching();
    const imageObserver = new IntersectionObserver((entries, imgObserver) => {
        entries.forEach((entry) => {
            if (entry.isIntersecting) {
                const lazyImage = entry.target;
                lazyImage.src = lazyImage.dataset.src;
            }
        });
    });
    const arr = document.querySelectorAll('img.lzy_img');
    arr.forEach((v) => {
        imageObserver.observe(v);
    });
});
    </script>
    <script>
	    
const menuBtn = document.querySelector(".menu-icon span"); 
const searchBtn = document.querySelector(".search-icon"); 
const cancelBtn = document.querySelector(".cancel-icon"); 
const items = document.querySelector(".nav-items"); 
const form = document.querySelector("form"); 

menuBtn.onclick = () => { 
  items.classList.add("active"); 
  menuBtn.classList.add("hide"); 
  searchBtn.classList.add("hide"); 
  cancelBtn.classList.add("show"); 
  document.body.style.overflow = "hidden"; // prevent scrolling 
}

cancelBtn.onclick = () => { 
  items.classList.remove("active"); 
  menuBtn.classList.remove("hide"); 
  searchBtn.classList.remove("hide"); 
  cancelBtn.classList.remove("show"); 
  form.classList.remove("active"); 
  cancelBtn.style.color = "#ff3d00"; 
  document.body.style.overflow = "auto"; // enable scrolling 
}

searchBtn.onclick = () => { 
  form.classList.add("active");		 
  form.style.display = "inline-block"; // or "flex" 
  searchBtn.classList.add("hide"); 
  cancelBtn.classList.add("show"); 
  document.body.style.overflow = "hidden"; // prevent scrolling 
}
function storeEpisode() {
  const title = "{{ title }}";
  const url = window.location.href;
  const img = "{{ img }}"; // replace with the image URL
  const timestamp = videoPlayer.currentTime(); // replace with the function that gets the video timestamp
  const episode = { title, url, img, timestamp };
  
  // check if the episode is already stored
  let storedEpisodes = JSON.parse(localStorage.getItem("episodes")) || [];
  let index = storedEpisodes.findIndex(e => e.url === url);
  if (index === -1) {
    storedEpisodes.push(episode);
  } else {
    storedEpisodes[index] = episode;
  }
  
  localStorage.setItem("episodes", JSON.stringify(storedEpisodes));
}
	    
function displayContinueWatching() {
  let storedEpisodes = JSON.parse(localStorage.getItem("episodes")) || [];
  let continueWatching = document.getElementById("continue-watching");
  
  // clear the continue watching section
  continueWatching.innerHTML = "";

  // sort the stored episodes by timestamp in descending order
  storedEpisodes.sort((a, b) => b.timestamp - a.timestamp);

  // display up to 5 of the most recent episodes
  for (let i = 0; i < Math.min(storedEpisodes.length, 5); i++) {
    let episode = storedEpisodes[i];

    let link = document.createElement("a");
    link.href = episode.url;
    link.innerHTML = episode.title;
    
    let img = document.createElement("img");
    img.src = episode.img;
    
    let timestamp = document.createElement("span");
    timestamp.innerHTML = formatTimestamp(episode.timestamp);

    let episodeDiv = document.createElement("div");
    episodeDiv.classList.add("continue-watching-episode");
    episodeDiv.appendChild(link);
    episodeDiv.appendChild(img);
    episodeDiv.appendChild(timestamp);
    
    continueWatching.appendChild(episodeDiv);
  }
}

// helper function to format a timestamp in minutes and seconds
function formatTimestamp(timestamp) {
  let minutes = Math.floor(timestamp / 60);
  let seconds = Math.floor(timestamp % 60);
  return `${minutes}:${seconds.toString().padStart(2, "0")}`;
}

  
</script>

    <script src="https://cdn.jsdelivr.net/gh/TechShreyash/AnimeDex@main/static/js/home.min.js"></script>
</body>

</html>


