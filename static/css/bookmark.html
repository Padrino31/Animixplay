<!DOCTYPE html>
<html>
<link rel="icon" type="image/x-icon"
        href="https://d1nxzqpcg2bym0.cloudfront.net/google_play/com.anime.flv/ec0213b8-f1d8-11e7-8b0a-7d62278fee98/128x128">
    <title>animeflv - Watch High Quality Anime Online</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="title" content="animeflv - Watch High Quality Anime Online" />
    <meta name="description"
        content="animeflv - Watch High Quality Anime Online. You can watch anime online free in HD without Ads. Best place for free find and one-click anime." />
    <meta name="keywords"
        content="animeflv, watch anime online, free anime, anime stream, anime hd, english sub, kissanime, gogoanime, animeultima, 9anime, 123animes, animefreak, vidstreaming, gogo-stream, animekisa, zoro.to, gogoanime.run, animedex, animekisa" />
    <meta name="charset" content="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
    <meta name="robots" content="index, follow" />
    <meta name="googlebot" content="index, follow" />
    <meta name="revisit-after" content="1 days" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta http-equiv="Content-Language" content="en" />
    <meta property="og:title" content="animeflv - Watch High Quality Anime Online">
    <meta property="og:description"
        content="animeflv - Watch High Quality Anime Online. You can watch anime online free in HD without Ads. Best place for free find and one-click anime.">
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="animeflv">
    <meta property="og:url" content="https://animeflv-sc.vercel.app/">
    <meta property="og:image:width" content="650">
    <meta property="og:image:height" content="350">
    <meta property="twitter:title" content="animeflv - Watch High Quality Anime Online">
    <meta property="twitter:description"
        content="Trending page for anime on animeflv. You can watch anime online free in HD without Sign up. Best place for free find and one-click anime.">
    <meta property="twitter:url" content="">
    <meta property="twitter:card" content="summary">
<meta name="apple-mobile-web-app-capable" content="yes">

    <meta name="apple-mobile-web-app-status-bar" content="#202125">
<head>
	<title>Bookmarks</title>
	<link href="./styles.css" rel="stylesheet">
	<link href="./home.css" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" rel="stylesheet">
</head>
<body>
	<nav>
         <div class="menu-icon">
            <span class="fas fa-bars"></span>
         </div>
         <div class="logo">
            <a href="#"><img src="https://od.lk/s/OTBfMzU2NDQ1MTBf/animeflv.png"></a>
         </div>
         <div class="nav-items">
		 <li><a href="/">Home</a></li>
        <li><a href="./watchlist.html">Watchlist</a></li>
         </div>
         <div class="search-icon">
            <span class="fas fa-search"></span>
         </div>
         <div class="cancel-icon">
            <span class="fas fa-times"></span>
         </div>
                    <form action="/search" method='GET'>
                <input type="text" name="query" id="query" placeholder="Search Anime..." required>
                <button type="submit"><i class="fa fa-search"></i>
                </button>
            </form>
        </div>
      </nav>
	<style>  
.bookmark-row {
  background-color: #333;
  color: white;
}

.bookmark-row td {
  padding: 8px;
}

.bookmark-row td:first-child {
  width: 30%;
}

.bookmark-row td:nth-child(2) {
  width: 50%;
}

.bookmark-row td:nth-child(3) {
  width: 20%;
}

button {
  background-color: #2596be;
  border: none;
  border-radius: 5px;
  color: white;
  cursor: pointer;
  padding: 6px 10px;
  transition: background-color 0.3s ease;
}

button:hover {
  background-color: #e60000;
}
		
</style>
<style>
h1 {
  text-align: center;
  color: white;
  font-size: 24px;
  margin-top: 15px;
  margin-bottom: 10px;
}
table {
  padding-bottom: 20px;
}
</style>
<h1>Bookmarks</h1>
<table>
  <tbody>
    <!-- table body goes here -->
  </tbody>
</table>
	
	<div id="continue-watching-container">
  <h2>Continue Watching</h2>
  <div id="continue-watching"></div>
</div>

  <script>
const menuBtn = document.querySelector(".menu-icon span"); 
const searchBtn = document.querySelector(".search-icon"); 
const cancelBtn = document.querySelector(".cancel-icon"); 
const items = document.querySelector(".nav-items"); 
const form = document.querySelector("form"); 

menuBtn.onclick = () => { 
  items.classList.add("active"); 
  menuBtn.classList.add("hide"); 
  searchBtn.classList.add("hide"); 
  cancelBtn.classList.add("show"); 
  document.body.style.overflow = "hidden"; // prevent scrolling 
}

cancelBtn.onclick = () => { 
  items.classList.remove("active"); 
  menuBtn.classList.remove("hide"); 
  searchBtn.classList.remove("hide"); 
  cancelBtn.classList.remove("show"); 
  form.classList.remove("active"); 
  cancelBtn.style.color = "#ff3d00"; 
  document.body.style.overflow = "auto"; // enable scrolling 
}

searchBtn.onclick = () => { 
  form.classList.add("active");		 
  form.style.display = "inline-block"; // or "flex" 
  searchBtn.classList.add("hide"); 
  cancelBtn.classList.add("show"); 
  document.body.style.overflow = "hidden"; // prevent scrolling 
}

    const bookmarks = JSON.parse(localStorage.getItem('bookmarks') || '[]');
    bookmarks.forEach(bookmark => {
      document.write(`
        <tr class="bookmark-row">
          <td style="color: white;">${bookmark.title}</td>
          <td style="color: white;"><a href="${bookmark.url}" style="color: white;">${bookmark.url}</a></td>
          <td><button onclick="removeBookmark('${bookmark.url}')">Remove</button></td>
        </tr>
      `);
    });

    function removeBookmark(url) {
  const bookmarks = JSON.parse(localStorage.getItem('bookmarks') || '[]');
  const bookmarkToRemove = bookmarks.find(bookmark => bookmark.url === url);

  if (confirm(`Are you sure you want to remove "${bookmarkToRemove.title}"?`)) {
    const filteredBookmarks = bookmarks.filter(bookmark => bookmark.url !== url);
    localStorage.setItem('bookmarks', JSON.stringify(filteredBookmarks));
    location.reload();
  }
}
	  function storeEpisode() {
  const title = "{{ title }}";
  const url = window.location.href;
  const img = "{{ img }}"; // replace with the image URL
  const timestamp = videoPlayer.currentTime(); // replace with the function that gets the video timestamp
  const episode = { title, url, img, timestamp };
  
  // check if the episode is already stored
  let storedEpisodes = JSON.parse(localStorage.getItem("episodes")) || [];
  let index = storedEpisodes.findIndex(e => e.url === url);
  if (index === -1) {
    storedEpisodes.push(episode);
  } else {
    storedEpisodes[index] = episode;
  }
  
  localStorage.setItem("episodes", JSON.stringify(storedEpisodes));
}function displayContinueWatching() {
  let storedEpisodes = JSON.parse(localStorage.getItem("episodes")) || [];
  let continueWatching = document.getElementById("continue-watching");
  
  // clear the continue watching section
  continueWatching.innerHTML = "";

  // sort the stored episodes by timestamp in descending order
  storedEpisodes.sort((a, b) => b.timestamp - a.timestamp);

  // display up to 5 of the most recent episodes
  for (let i = 0; i < Math.min(storedEpisodes.length, 5); i++) {
    let episode = storedEpisodes[i];

    let link = document.createElement("a");
    link.href = episode.url;
    link.innerHTML = episode.title;
    
    let img = document.createElement("img");
    img.src = episode.img;
    
    let timestamp = document.createElement("span");
    timestamp.innerHTML = formatTimestamp(episode.timestamp);

    let episodeDiv = document.createElement("div");
    episodeDiv.classList.add("continue-watching-episode");
    episodeDiv.appendChild(link);
    episodeDiv.appendChild(img);
    episodeDiv.appendChild(timestamp);
    
    continueWatching.appendChild(episodeDiv);
  }
}

// helper function to format a timestamp in minutes and seconds
function formatTimestamp(timestamp) {
  let minutes = Math.floor(timestamp / 60);
  let seconds = Math.floor(timestamp % 60);
  return `${minutes}:${seconds.toString().padStart(2, "0")}`;
}

  </script>
</tbody>
</table>

</body>
</html>
